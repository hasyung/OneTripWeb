<script id="template-upload" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
  <div class="box template-upload fade">
    {% if (file.error) { %}
      <div class="control-group error">
        <span class="label label-important">
          {%=locale.fileupload.errors[file.error] || file.error%}
        </span>
      </div>
      <div class="control-group button-frame">
        <div class="action cancel">
          <button type="reset" class="btn btn-warning cancel">
            <i class="icon-ban-circle icon-white icon-large"></i>
            <b><%= t("fileupload.links.cancel") %></b>
          </button>
        </div>
      </div>
    {% } else if (o.files.valid && !i) { %}
      <div class="preview"><span class="fade"></span></div>
      <div class="size">{%=o.formatFileSize(file.size)%}</div>
      <div class="control-group progress-frame">
        <div class="controls">
          <div class="progress progress-success progress-striped active">
            <div class="bar" style="width:0%;"></div>
          </div>
        </div>
      </div>
      <div class="control-group button-frame">
        <div class="action cancel">
          <button type="reset" class="btn btn-warning cancel">
              <i class="icon-ban-circle icon-white icon-large"></i>
              <b><%= t("fileupload.links.cancel") %></b>
          </button>
        </div>
        <div class="action start">
          {% if (!o.options.autoUpload) { %}
            <button class="btn btn-primary">
              <i class="icon-upload icon-white icon-large"></i>
              <b><%= t("fileupload.links.start") %></b>
            </button>
          {% } %}
        </div>
      </div>
    {% } %}
  </div>
{% } %}
</script>